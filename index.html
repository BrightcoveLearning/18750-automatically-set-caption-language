<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Auto Captions Language</title>
</head>

<body>
  <div style="width: 960px; height: 540px;">
    <video-js id="myPlayerID"
              data-account="1752604059001" 
              data-player="default" 
              data-embed="default" 
              controls="" 
              data-video-id="6008592337001" 
              data-playlist-id="" 
              data-application-id="" 
              width="960" height="540" 
              class="vjs-fill">
    </video-js>
    <script src="https://players.brightcove.net/1752604059001/default_default/index.min.js"></script>
  </div>
  <script type="text/javascript">
    videojs.getPlayer("myPlayerID").ready(function () {
      var myPlayer = this;

      myPlayer.on("loadedmetadata", function () {

        // +++ Get the browser language +++
        var browser_language = navigator.language ||
          navigator.userLanguage; // IE <= 10;
        browser_language = browser_language.substr(0, 2);

        // +++ Get the captions +++
        var track_language;
        var tracks = myPlayer.textTracks();

        // +++ Loop through captions +++
        for (var i = 0; i < (tracks.length); i++) {
          track_language = tracks[i].language.substr(0, 2);

          // +++ When the caption language equals the browser language, then set it as default +++
          if (track_language) {
            if (track_language === browser_language) {
              tracks[i].mode = "showing";
            } else {
              tracks[i].mode = "disabled";
            }
          }
        }
      });
    });
  </script>

</body>

</html>
